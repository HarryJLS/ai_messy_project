---

name: plan-next
description: ä½¿ç”¨ TDD å¾ªç¯æ‰§è¡Œä¸‹ä¸€ä¸ªå¾…å¤„ç†ä»»åŠ¡ã€‚å½“ç”¨æˆ·è¯´ "/plan-next"ã€"æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡"ã€"ç»§ç»­ä»»åŠ¡"ã€"å¼€å§‹å¼€å‘" æ—¶è§¦å‘ã€‚å¿…é¡»å…ˆè¿è¡Œ /plan-init åˆ›å»º features.jsonã€‚æ‰§è¡Œ READ â†’ EXPLORE â†’ PLAN â†’ RED â†’ IMPLEMENT â†’ GREEN â†’ COMMIT ä¸ƒé˜¶æ®µæµç¨‹ã€‚
---

# Plan Next

ä½¿ç”¨ Feature-Dev å·¥ä½œæµå’Œ TDD å¾ªç¯æ‰§è¡Œä¸‹ä¸€ä¸ªå¾…å¤„ç†ä»»åŠ¡ã€‚

## å…³é”®è§„åˆ™

- **ä¸€æ¬¡ä¸€ä¸ªä»»åŠ¡**ï¼Œä»…åœ¨éªŒè¯åè®¾ç½® `passes: true`
- **TDD å¼ºåˆ¶**ï¼šå¿…é¡»å…ˆçœ‹åˆ° RED å†çœ‹ GREEN
- **æ—¥å¿—ç”¨äºæ¢å¤**ï¼šæ¯æ¡æ—¥å¿—å¿…é¡»èƒ½åœ¨æ–°ä¼šè¯ä¸­æ¢å¤ä¸Šä¸‹æ–‡
- **èµ„æ·±å¼€å‘è§†è§’**ï¼šè€ƒè™‘ä»£ç è´¨é‡ã€è¾¹ç•Œæƒ…å†µã€é”™è¯¯å¤„ç†ã€å¯ç»´æŠ¤æ€§
- **å‚è€ƒæ–¹æ³•/å·¥å…·å¿…æŸ¥**ï¼šå¦‚æœä»»åŠ¡çš„ `references` å­—æ®µåˆ—å‡ºäº†æ–¹æ³•ã€å·¥å…·ç±»ã€API æˆ–æ–‡æ¡£ï¼Œ**å¿…é¡»**åœ¨ PLAN é˜¶æ®µæŸ¥æ‰¾å…¶æºç æˆ–æ–‡æ¡£ï¼Œç†è§£å…¶å°è£…æ–¹å¼å’Œè°ƒç”¨æ–¹æ³•ï¼Œåœ¨ IMPLEMENT é˜¶æ®µä¸¥æ ¼æŒ‰ç…§å…¶è®¾è®¡ä½¿ç”¨ï¼Œç¦æ­¢ç»•è¿‡æˆ–é‡æ–°å®ç°
- **æ•°æ®æ ·ä¾‹å¿…éªŒ**ï¼šå¦‚æœä»»åŠ¡çš„ `dataSamples` å­—æ®µæä¾›äº†æ•°æ®æ ·ä¾‹ï¼Œ**å¿…é¡»**åœ¨ RED é˜¶æ®µåŸºäºæ ·ä¾‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨ GREEN é˜¶æ®µç”¨æ ·ä¾‹æ•°æ®éªŒè¯è§£æå’Œå¤„ç†é€»è¾‘çš„æ­£ç¡®æ€§
- **å¼ºåˆ¶å®Œæ•´æ³¨é‡Š**ï¼šæ¯ä¸ªæ–°å†™çš„æ–¹æ³•å¿…é¡»æœ‰å®Œæ•´æ³¨é‡Šï¼Œæ¯ä¸ªæ–¹æ³•è·³è½¬å¿…é¡»æœ‰è¯´æ˜æ³¨é‡Šï¼Œä¸å¯è·³è¿‡
- **ä¸ç¡®å®šå¿…è¯¢é—®**ï¼šé‡åˆ°å¤šç§å®ç°æ–¹å¼æˆ–å…³é”®æŠ€æœ¯å†³ç­–ä¸ç¡®å®šæ—¶ï¼Œå¿…é¡»å‘ç”¨æˆ·è¯¢é—®ï¼Œç¦æ­¢æ“…è‡ªå†³å®š

## ååˆç†åŒ–æ£€æŸ¥ - åœæ­¢å¹¶é‡æ–°å¼€å§‹

è¿™äº›æƒ³æ³•æ„å‘³ç€ä½ åœ¨åˆç†åŒ–è·³è¿‡å¢å¼ºè¦æ±‚ï¼š

| å€Ÿå£ | ç°å® |
|------|------|
| "è¿™ä¸ªå‚è€ƒæ–¹æ³•å¤ªç®€å•äº†ï¼Œä¸éœ€è¦æ·±åº¦åˆ†æ" | ç®€å•çš„æ–¹æ³•ä¹Ÿæœ‰è°ƒç”¨è§„èŒƒå’Œé¡¹ç›®æ¨¡å¼ï¼Œå¿…é¡»å­¦ä¹  |
| "é¡¹ç›®é‡Œæ²¡æ‰¾åˆ°ä½¿ç”¨ç¤ºä¾‹ï¼Œæˆ‘è‡ªå·±ç†è§£å°±è¡Œ" | æ²¡æ‰¾åˆ°è¯´æ˜æœç´¢ä¸å……åˆ†ï¼Œå¿…é¡»ç»§ç»­æœç´¢æˆ–è¯¢é—®ç”¨æˆ· |
| "æ³¨é‡Šå¤ªç¹çäº†ï¼Œä»£ç æœ¬èº«å°±å¾ˆæ¸…æ¥š" | ä»£ç æ¸…æ¥š â‰  æ„å›¾æ¸…æ¥šï¼Œæ³¨é‡Šæ˜¯ä¸ºäº†è¯´æ˜ä¸šåŠ¡æ„å›¾ |
| "è¿™ç§ç®€å•çš„è·³è½¬ä¸éœ€è¦æ³¨é‡Š" | æ‰€æœ‰æ–¹æ³•è·³è½¬éƒ½éœ€è¦æ³¨é‡Šï¼Œä¸ºåç»­ç»´æŠ¤è€…è€ƒè™‘ |
| "æˆ‘ç¡®ä¿¡è¿™ä¸ªå®ç°æ–¹å¼æ˜¯å¯¹çš„ï¼Œä¸éœ€è¦é—®ç”¨æˆ·" | ç¡®ä¿¡ â‰  æ­£ç¡®ï¼Œæ¶‰åŠæ¶æ„çš„å†³ç­–å¿…é¡»å¾å¾—ç”¨æˆ·åŒæ„ |
| "è¯¢é—®ç”¨æˆ·å¤ªé¢‘ç¹ï¼Œä¼šæ‰“æ–­æµç¨‹" | é”™è¯¯çš„å‡è®¾æ¯”è¯¢é—®çš„æˆæœ¬æ›´é«˜ |
| "æˆ‘å¯ä»¥ç¨åè¡¥å……æ³¨é‡Š" | ç¨å = æ°¸è¿œä¸ä¼šï¼Œå¿…é¡»åœ¨å†™ä»£ç æ—¶åŒæ­¥å†™æ³¨é‡Š |

**æ‰€æœ‰è¿™äº›éƒ½æ„å‘³ç€ï¼šåœæ­¢åˆç†åŒ–ï¼Œä¸¥æ ¼æŒ‰ç…§å¢å¼ºè¦æ±‚æ‰§è¡Œã€‚**

## æ—¥å¿—æ ¼å¼

æ¯æ¡æ—¥å¿—å†™å…¥ `logs/task-{id}.log`ï¼Œå¿…é¡»å›ç­”ï¼š**"å¦‚æœæˆ‘åœ¨æ–°ä¼šè¯ä¸­åªè¯»è¿™æ¡æ—¥å¿—ï¼Œèƒ½å¦ç»§ç»­ï¼Ÿ"**

```
[æ—¶é—´æˆ³] [é˜¶æ®µ] Task N: ä¸€å¥è¯æ¦‚è¿°
â”œâ”€ çŠ¶æ€: exploring|planning|red|green|blocked|done
â”œâ”€ å†³ç­–: å…³é”®å†³ç­–ï¼ˆä¸ºä»€ä¹ˆè¿™æ ·åšï¼‰
â”œâ”€ æ–‡ä»¶: file1.ts, file2.tsï¼ˆå·²æ”¹/å°†æ”¹ï¼‰
â”œâ”€ é—®é¢˜: é‡åˆ°çš„é—®é¢˜ â†’ è§£å†³æ–¹æ¡ˆï¼ˆæˆ– noneï¼‰
â””â”€ ä¸‹ä¸€æ­¥: å…·ä½“ä¸‹ä¸€æ­¥æ“ä½œ
---
```

## é˜¶æ®µ 1: READ

1. è¯»å– `features.json`ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ª `passes: false`
2. å¦‚æœæ²¡æœ‰ï¼š"æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ ğŸ‰" â†’ åœæ­¢
3. å®£å¸ƒï¼š"å¼€å§‹ä»»åŠ¡ [ID]: [æè¿°]"

## é˜¶æ®µ 2: EXPLOREï¼ˆæ¡ä»¶æ‰§è¡Œï¼‰

**ä»…å½“ä»»åŠ¡ä¿®æ”¹ç°æœ‰ä»£ç æ—¶æ‰§è¡Œ**ï¼Œæ–°åŠŸèƒ½è·³è¿‡ã€‚

**åˆ¤æ–­æ ‡å‡†ï¼š**
| åœºæ™¯ | æ˜¯å¦ Explore | ç†ç”± |
|------|-------------|------|
| ä¿®æ”¹ç°æœ‰æ–¹æ³•/ç±»çš„é€»è¾‘ | âœ… å¿…é¡» | éœ€ç†è§£ç°æœ‰å®ç° |
| åœ¨ç°æœ‰ç±»ä¸­æ·»åŠ æ–°æ–¹æ³• | âœ… å¿…é¡» | éœ€äº†è§£ç±»çš„èŒè´£å’Œé£æ ¼ |
| ä¿®å¤ç°æœ‰ä»£ç çš„ bug | âœ… å¿…é¡» | éœ€ç†è§£åŸæœ‰é€»è¾‘å’Œä¸Šä¸‹æ–‡ |
| åˆ›å»ºå…¨æ–°çš„ç±»/æ¨¡å— | âŒ è·³è¿‡ | æ— ç°æœ‰ä»£ç éœ€åˆ†æ |
| æ·»åŠ å…¨æ–°çš„ç‹¬ç«‹åŠŸèƒ½æ–‡ä»¶ | âŒ è·³è¿‡ | æ— ä¾èµ–éœ€åˆ†æ |
| åœ¨ç°æœ‰æ¨¡å—ä¸­æ·»åŠ æ–°æ–‡ä»¶ | âš ï¸ è§†æƒ…å†µ | å¦‚éœ€éµå¾ªæ¨¡å—è§„èŒƒåˆ™ Explore |

**ç®€åŒ–åˆ¤æ–­ï¼š** å¦‚æœä»»åŠ¡æ¶‰åŠçš„æ–‡ä»¶/ç±»/æ–¹æ³•å·²å­˜åœ¨ â†’ Exploreï¼›å®Œå…¨æ–°å»º â†’ è·³è¿‡

**æ‰§è¡Œæ—¶**ï¼šç”¨æ–‡ä»¶æœç´¢å’Œé˜…è¯»å·¥å…·åˆ†æç°æœ‰ä»£ç 

**æ—¥å¿—**:
```
[æ—¶é—´æˆ³] [Explore] Task N: åˆ†æ XXX æ¨¡å—
â”œâ”€ çŠ¶æ€: exploring â†’ planning
â”œâ”€ å†³ç­–: å‘ç° XXX æ¨¡å¼ï¼Œè®¡åˆ’å¤ç”¨/æ‰©å±•
â”œâ”€ æ–‡ä»¶: existing1.ts, existing2.tsï¼ˆå°†ä¿®æ”¹ï¼‰
â”œâ”€ é—®é¢˜: none
â””â”€ ä¸‹ä¸€æ­¥: åˆ¶å®šå®ç°è®¡åˆ’
---
```

## é˜¶æ®µ 3: PLAN

1. æŸ¥çœ‹ä»»åŠ¡çš„ `steps`, `acceptance`, `test`, `boundary` å­—æ®µ
2. å¦‚æœæ¨¡ç³Š â†’ å…ˆæ›´æ–° features.json
3. **å‚è€ƒèµ„æºæŸ¥æ‰¾**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `references` æˆ– `dataSamples` å­—æ®µï¼‰ï¼š

### 3.1: å‚è€ƒæ–¹æ³•å­¦ä¹ æµç¨‹
å½“ä»»åŠ¡è¦æ±‚å‚è€ƒæŒ‡å®šæ–¹æ³•æ—¶ï¼š

**æ­¥éª¤ä¸€ï¼šç²¾ç¡®å®šä½å‚è€ƒæ–¹æ³•**
- ä½¿ç”¨ Grep å’Œ Read å·¥å…·æ‰¾åˆ°å‚è€ƒæ–¹æ³•çš„å®Œæ•´å®ç°
- è®°å½•æ–¹æ³•ç­¾åã€å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ã€å¼‚å¸¸å£°æ˜
- åˆ†ææ–¹æ³•æ‰€åœ¨çš„ç±»/åŒ…çš„æ•´ä½“è®¾è®¡æ„å›¾

**æ­¥éª¤äºŒï¼šæ·±åº¦åˆ†æå†™æ³•æ¨¡å¼**
- **å‘½åè§„èŒƒåˆ†æ**ï¼šæ–¹æ³•å‘½åé£æ ¼ã€å‚æ•°å‘½åè§„å¾‹ã€è¿”å›å€¼å‘½å
- **å‚æ•°å¤„ç†æ–¹å¼**ï¼šå‚æ•°æ ¡éªŒæ¨¡å¼ã€å‚æ•°è½¬æ¢é€»è¾‘ã€é»˜è®¤å€¼å¤„ç†
- **å¼‚å¸¸å¤„ç†æ¨¡å¼**ï¼šå¼‚å¸¸ç±»å‹é€‰æ‹©ã€å¼‚å¸¸ä¿¡æ¯æ ¼å¼ã€é”™è¯¯ä¼ æ’­æ–¹å¼
- **è¿”å›å€¼æ„é€ æ–¹å¼**ï¼šæˆåŠŸ/å¤±è´¥çš„è¿”å›å€¼æ ¼å¼ã€åŒ…è£…ç±»ä½¿ç”¨æ¨¡å¼
- **æ—¥å¿—è®°å½•æ–¹å¼**ï¼šæ—¥å¿—çº§åˆ«é€‰æ‹©ã€æ—¥å¿—å†…å®¹æ ¼å¼ã€å…³é”®èŠ‚ç‚¹è®°å½•

**æ­¥éª¤ä¸‰ï¼šå­¦ä¹ é¡¹ç›®é›†æˆæ¨¡å¼**
- åœ¨é¡¹ç›®ä¸­æœç´¢æ­¤æ–¹æ³•çš„æ‰€æœ‰è°ƒç”¨ç¤ºä¾‹ï¼š`Grep pattern="methodName" output_mode="content"`
- åˆ†æä¸åŒåœºæ™¯ä¸‹çš„è°ƒç”¨æ–¹å¼å·®å¼‚
- ç†è§£æ–¹æ³•åœ¨é¡¹ç›®æ¶æ„ä¸­çš„ä½ç½®å’ŒèŒè´£
- å­¦ä¹ ä¸å…¶ä»–ç»„ä»¶çš„åä½œæ–¹å¼

**æ­¥éª¤å››ï¼šæ”¹å†™é€‚é…å½“å‰éœ€æ±‚**
- ä¿æŒç›¸åŒçš„ä»£ç é£æ ¼å’Œç»“æ„æ¨¡å¼
- é€‚é…å½“å‰ä¸šåŠ¡åœºæ™¯çš„å…·ä½“éœ€æ±‚
- ç¡®ä¿ä¸é¡¹ç›®æ•´ä½“æ¶æ„ä¸€è‡´
- ç»§æ‰¿ç›¸åŒçš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•æ–¹å¼

### 3.2: å·¥å…·ç±»æ–¹æ³•ä½¿ç”¨å­¦ä¹ 

**å¯»æ‰¾ä½¿ç”¨ç¤ºä¾‹**
- åœ¨é¡¹ç›®ä¸­æœç´¢å·¥å…·ç±»çš„ä½¿ç”¨ç¤ºä¾‹ï¼š`Grep pattern="ToolClass\." output_mode="content"`
- åˆ†æä¸åŒåœºæ™¯ä¸‹çš„è°ƒç”¨æ–¹å¼
- ç†è§£å‚æ•°ä¼ é€’çš„æœ€ä½³å®è·µ
- å­¦ä¹ å¸¸è§çš„ä½¿ç”¨ç»„åˆæ¨¡å¼

**å­¦ä¹ è°ƒç”¨æ¨¡å¼**
- **é™æ€æ–¹æ³•è°ƒç”¨æ–¹å¼**ï¼šç±»å.æ–¹æ³•å() çš„ä½¿ç”¨è§„èŒƒ
- **å®ä¾‹æ–¹æ³•çš„åˆ›å»ºå’Œä½¿ç”¨**ï¼šæ„é€ å™¨é€‰æ‹©ã€é…ç½®æ¨¡å¼
- **é“¾å¼è°ƒç”¨çš„ä½¿ç”¨åœºæ™¯**ï¼šbuilder æ¨¡å¼çš„æ­£ç¡®ä½¿ç”¨
- **å¼‚å¸¸å¤„ç†çš„æ ‡å‡†åšæ³•**ï¼šé¡¹ç›®ä¸­çš„ç»Ÿä¸€å¼‚å¸¸å¤„ç†æ¨¡å¼

**ä¸ç¡®å®šæ—¶çš„å¤„ç†æœºåˆ¶**
- å½“é‡åˆ°å¤šç§å¯èƒ½çš„å†™æ³•æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©é¡¹ç›®ä¸­ä½¿ç”¨æœ€å¤šçš„æ–¹å¼
- å¯¹äºå…³é”®å†³ç­–ï¼ˆå¦‚æ–‡ä»¶å¤„ç†ã€æ•°æ®åº“æ“ä½œã€å¤–éƒ¨APIè°ƒç”¨ï¼‰ï¼Œå‡†å¤‡å»ºè®®æ–¹æ¡ˆè¯¢é—®ç”¨æˆ·
- åˆ—å‡ºå€™é€‰æ–¹æ¡ˆåŠå…¶ä¼˜ç¼ºç‚¹ï¼Œ**ä¸å¯æ“…è‡ªå†³å®š**

   - é€ä¸€æŸ¥æ‰¾ `references` ä¸­åˆ—å‡ºçš„æ–¹æ³•/å·¥å…·ç±»/APIï¼š
     - æŒ‰ç…§ä¸Šè¿°å‚è€ƒæ–¹æ³•å­¦ä¹ æµç¨‹æ·±åº¦åˆ†æ
     - è®°å½•å…¶å°è£…æ¨¡å¼ï¼ˆå¦‚å·¥å‚æ–¹æ³•ã€Builder æ¨¡å¼ã€é™æ€å·¥å…·ç±»ç­‰ï¼‰
     - å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹åº“ï¼ŒæŸ¥é˜…å…¶æ–‡æ¡£äº†è§£æ­£ç¡®ç”¨æ³•
   - æ£€æŸ¥ `dataSamples` ä¸­åˆ—å‡ºçš„æ•°æ®æ ·ä¾‹ï¼š
     - é˜…è¯»æ ·ä¾‹æ•°æ®çš„ç»“æ„å’Œå­—æ®µå«ä¹‰
     - ç¡®è®¤æ•°æ®æ ¼å¼ï¼ˆJSON/XML/CSV ç­‰ï¼‰å’Œç¼–ç æ–¹å¼
     - è¯†åˆ«ç‰¹æ®Šå­—æ®µã€åµŒå¥—ç»“æ„ã€å¯é€‰å­—æ®µ
   - âš ï¸ å¦‚æœæ‰¾ä¸åˆ° references ä¸­æŒ‡å®šçš„æ–¹æ³•æˆ–å·¥å…·ï¼Œ**åœä¸‹æ¥å‘ç”¨æˆ·ç¡®è®¤**ï¼Œä¸å¯è‡ªè¡Œæ›¿ä»£
4. **å½±å“èŒƒå›´ç¡®è®¤**ï¼š
   - åˆ—å‡ºå°†è¦ä¿®æ”¹çš„æ–‡ä»¶/ç±»/æ–¹æ³•
   - åˆ—å‡ºç›¸ä¼¼ä½†**ä¸åº”ä¿®æ”¹**çš„æ–‡ä»¶/ç±»/æ–¹æ³•
   - å¦‚æœæœ‰ `boundary` å­—æ®µï¼Œç¡®è®¤ç†è§£è¾¹ç•Œ
5. **Service æ¶æ„é¢„è¯„ä¼°**ï¼š
   - è¯„ä¼°æ–°å¢åŠŸèƒ½çš„å¤æ‚åº¦å’ŒèŒè´£å½’å±
   - æ£€æŸ¥æ˜¯å¦æœ‰åˆé€‚çš„ç°æœ‰ service å¯ä»¥æ‰©å±•
   - é¢„åˆ¤æ˜¯å¦éœ€è¦æ–°å»º service æˆ–æ–¹æ³•æŠ½å–
   - åˆ—å‡ºå€™é€‰çš„ service æ–¹æ¡ˆï¼š`ç°æœ‰ServiceA.newMethod()` æˆ– `æ–°å»ºServiceB`
6. å†™æ—¥å¿—

**æ—¥å¿—**:
```
[æ—¶é—´æˆ³] [Plan] Task N: è®¡åˆ’ XXX åŠŸèƒ½
â”œâ”€ çŠ¶æ€: planning â†’ redï¼ˆæˆ– blocked-user-confirmï¼‰
â”œâ”€ å†³ç­–: æŠ€æœ¯é€‰å‹/æ¶æ„å†³ç­–è¦ç‚¹
â”œâ”€ æ–‡ä»¶: new1.ts, new2.tsï¼ˆå°†åˆ›å»ºï¼‰| existing.tsï¼ˆå°†ä¿®æ”¹ï¼‰
â”œâ”€ å‚è€ƒèµ„æº: å·²æŸ¥æ‰¾ XxxUtil.method()ï¼ˆä½äº src/utils/ï¼‰| æ•°æ®æ ·ä¾‹å·²åˆ†æï¼ˆJSON æ ¼å¼ï¼ŒN ä¸ªå­—æ®µï¼‰
â”œâ”€ Service æ–¹æ¡ˆ: æ‰©å±• XxxService | æ–°å»º YyyService | ä¿ç•™åœ¨ Controllerï¼ˆåŸå› ï¼‰
â”œâ”€ ç”¨æˆ·ç¡®è®¤: éœ€ç¡®è®¤æŠ€æœ¯æ–¹æ¡ˆé€‰æ‹© | å®ç°æ–¹å¼å·²ç¡®å®šï¼ˆè®°å½•ç”¨æˆ·å†³ç­–ï¼‰
â”œâ”€ é—®é¢˜: é¢„è§çš„æŒ‘æˆ˜ â†’ åº”å¯¹æ–¹æ¡ˆ
â””â”€ ä¸‹ä¸€æ­¥: ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®è®¤ RED çŠ¶æ€
---
```

## é˜¶æ®µ 4: TDD RED ğŸ”´

âš ï¸ **å¿…é¡»å…ˆçœ‹åˆ°æµ‹è¯•å¤±è´¥ï¼Œå†å†™ä¸šåŠ¡ä»£ç **

1. æ ¹æ®ä»»åŠ¡ `test` å­—æ®µé€‰æ‹©éªŒè¯æ–¹å¼ï¼š
   - `unit/integration/e2e` â†’ **è°ƒç”¨ `/unit-test` skill**
   - `manual` â†’ å†™éªŒè¯æ£€æŸ¥æ¸…å•

2. **åŸºäºæ•°æ®æ ·ä¾‹ç¼–å†™æµ‹è¯•**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `dataSamples` å­—æ®µï¼‰ï¼š
   - å°†æ•°æ®æ ·ä¾‹ç›´æ¥ä½œä¸ºæµ‹è¯•è¾“å…¥æ•°æ®
   - æ ¹æ®æ ·ä¾‹çš„ç»“æ„ç¼–å†™è§£æ/å¤„ç†é€»è¾‘çš„æ–­è¨€
   - è¦†ç›–æ ·ä¾‹ä¸­çš„æ­£å¸¸å­—æ®µã€å¯é€‰å­—æ®µã€åµŒå¥—ç»“æ„
   - è¡¥å……è¾¹ç•Œæƒ…å†µï¼šç©ºå€¼ã€ç¼ºå¤±å­—æ®µã€å¼‚å¸¸æ ¼å¼

3. **è°ƒç”¨ `/unit-test` skill**ï¼ˆé manual ç±»å‹æ—¶ï¼‰ï¼š
   - `/unit-test` ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®è¯­è¨€ï¼ˆGo/Javaï¼‰
   - æ ¹æ®é¡¹ç›®ç°æœ‰æµ‹è¯•é£æ ¼ç”Ÿæˆæµ‹è¯•ä»£ç 
   - å®Œæˆåè‡ªåŠ¨è¿”å›ï¼Œç»§ç»­åç»­é˜¶æ®µ

4. è¿è¡Œæµ‹è¯•ï¼Œ**ç¡®è®¤å¤±è´¥**

**æ—¥å¿—**:
```
[æ—¶é—´æˆ³] [Red] Task N: æµ‹è¯•å‡†å¤‡å®Œæˆ
â”œâ”€ çŠ¶æ€: red â†’ implementing
â”œâ”€ å†³ç­–: é€‰æ‹© XXX æµ‹è¯•æ–¹å¼ï¼Œå› ä¸º YYY
â”œâ”€ æ–‡ä»¶: test.spec.tsï¼ˆå·²åˆ›å»ºï¼‰
â”œâ”€ æµ‹è¯•æ¡†æ¶: [Go: Mockey+Testify | Java: Spock/JUnit]ï¼ˆç”± /unit-test æ£€æµ‹ï¼‰
â”œâ”€ é—®é¢˜: none
â””â”€ ä¸‹ä¸€æ­¥: å®ç°åŠŸèƒ½ä»£ç ï¼Œè®©æµ‹è¯•é€šè¿‡
---
```

## é˜¶æ®µ 5: IMPLEMENT

- å†™æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
- åªåšå½“å‰ä»»åŠ¡ï¼Œä¸åšé¢å¤–"æ”¹è¿›"

### 5.1: å‚è€ƒæ–¹æ³•/å·¥å…·ä½¿ç”¨è§„èŒƒ

**ä½¿ç”¨å‚è€ƒæ–¹æ³•/å·¥å…·**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `references` å­—æ®µï¼‰ï¼š
- **å¿…é¡»**ä½¿ç”¨ PLAN é˜¶æ®µå·²æŸ¥æ‰¾åˆ°çš„æ–¹æ³•/å·¥å…·ï¼ŒæŒ‰å…¶å°è£…æ–¹å¼è°ƒç”¨
- ç¦æ­¢ç»•è¿‡å·²æœ‰å°è£…é‡æ–°å®ç°ç›¸åŒåŠŸèƒ½
- å¦‚æœå‚è€ƒæ–¹æ³•çš„æ¥å£ä¸å®Œå…¨åŒ¹é…éœ€æ±‚ï¼Œä¼˜å…ˆæ‰©å±•å·²æœ‰æ–¹æ³•ï¼Œè€Œéæ–°å»º
- è°ƒç”¨æ–¹å¼éœ€ä¸é¡¹ç›®ä¸­å…¶ä»–åœ°æ–¹çš„ä½¿ç”¨æ–¹å¼ä¿æŒä¸€è‡´

**å·¥å…·ç±»æ–¹æ³•ä½¿ç”¨å®æ–½æŒ‡å¯¼**ï¼š
- **ä¿æŒä¸€è‡´æ€§**ï¼šä¸¥æ ¼æŒ‰ç…§é¡¹ç›®ä¸­å·²æœ‰çš„è°ƒç”¨æ¨¡å¼ä½¿ç”¨
- **å‚æ•°ä¼ é€’**ï¼šå¤ç”¨ç›¸åŒçš„å‚æ•°æ ¡éªŒã€è½¬æ¢ã€åŒ…è£…æ–¹å¼
- **å¼‚å¸¸å¤„ç†**ï¼šä½¿ç”¨ç›¸åŒçš„å¼‚å¸¸å¤„ç†æ¨¡å¼ï¼Œä¸å¯éšæ„æ›´æ”¹
- **è¿”å›å€¼å¤„ç†**ï¼šæŒ‰ç…§é¡¹ç›®æƒ¯ä¾‹å¤„ç†è¿”å›å€¼ï¼ˆåŒ…è£…ã€è½¬æ¢ã€æ ¡éªŒï¼‰

### 5.2: ä»£ç æ³¨é‡Šè§„èŒƒè¦æ±‚

**æ–¹æ³•æ³¨é‡Šè¦æ±‚**ï¼š
- æ¯ä¸ªæ–°å†™çš„æ–¹æ³•**å¿…é¡»**åŒ…å«å®Œæ•´çš„æ–¹æ³•æ³¨é‡Š
- æ³¨é‡Šæ ¼å¼ï¼šåŠŸèƒ½è¯´æ˜ã€å‚æ•°è¯´æ˜ã€è¿”å›å€¼è¯´æ˜ã€å¼‚å¸¸è¯´æ˜
- ä½¿ç”¨é¡¹ç›®ç»Ÿä¸€çš„æ³¨é‡Šé£æ ¼ï¼ˆJavaDocã€GoDocç­‰ï¼‰
- æ³¨é‡Šæ¨¡æ¿ï¼š
```java
/**
 * åŠŸèƒ½æè¿°ï¼Œè¯´æ˜æ­¤æ–¹æ³•çš„ä¸šåŠ¡ç”¨é€”å’Œæ ¸å¿ƒé€»è¾‘
 *
 * @param paramName å‚æ•°è¯´æ˜ï¼ŒåŒ…æ‹¬ç±»å‹ã€èŒƒå›´ã€ç‰¹æ®Šå€¼å¤„ç†
 * @return è¿”å›å€¼è¯´æ˜ï¼ŒåŒ…æ‹¬æˆåŠŸ/å¤±è´¥æƒ…å†µä¸‹çš„ä¸åŒè¿”å›å€¼
 * @throws ExceptionType å¼‚å¸¸è¯´æ˜ï¼Œè¯´æ˜ä»€ä¹ˆæƒ…å†µä¸‹æŠ›å‡ºæ­¤å¼‚å¸¸
 */
```

```go
// FunctionName åŠŸèƒ½æè¿°ï¼Œè¯´æ˜æ­¤æ–¹æ³•çš„ä¸šåŠ¡ç”¨é€”å’Œæ ¸å¿ƒé€»è¾‘
// å‚æ•°è¯´æ˜ï¼šparamName - å‚æ•°ç”¨é€”å’Œçº¦æŸ
// è¿”å›å€¼ï¼šæˆåŠŸæ—¶è¿”å›ä»€ä¹ˆï¼Œå¤±è´¥æ—¶è¿”å›ä»€ä¹ˆ
// å¼‚å¸¸ï¼šä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¿”å›error
```

**æ–¹æ³•è·³è½¬æ³¨é‡Šè¦æ±‚**ï¼š
- æ¯ä¸ªæ–¹æ³•è·³è½¬è¡Œ**å¿…é¡»**æ·»åŠ æ³¨é‡Šè¯´æ˜è·³è½¬æ–¹æ³•çš„åŠŸèƒ½
- æ³¨é‡Šæ ¼å¼ï¼š`// ç¦ç”¨é€»è¾‘å¤„ç†`
- ç¡®ä¿è·³è½¬é€»è¾‘æ¸…æ™°æ˜“æ‡‚
- è·³è½¬æ³¨é‡Šç¤ºä¾‹ï¼š
```java
return orderService.calculateAmount(order); // è·³è½¬åˆ°è®¢å•æœåŠ¡è®¡ç®—é‡‘é¢é€»è¾‘
```

```go
result, err := userService.ValidateUser(ctx, userID) // è·³è½¬åˆ°ç”¨æˆ·æœåŠ¡éªŒè¯ç”¨æˆ·æœ‰æ•ˆæ€§
```

**å…³é”®é€»è¾‘æ³¨é‡Š**ï¼š
- å¤æ‚ä¸šåŠ¡é€»è¾‘æ·»åŠ è§£é‡Šæ€§æ³¨é‡Š
- ç®—æ³•å®ç°æ·»åŠ æ­¥éª¤è¯´æ˜æ³¨é‡Š
- é‡è¦çš„åˆ¤æ–­æ¡ä»¶æ·»åŠ åŸå› è¯´æ˜
- å¯¹å¤–éƒ¨ä¾èµ–çš„è°ƒç”¨æ·»åŠ è¯´æ˜æ³¨é‡Š
- **æŒ‰æ•°æ®æ ·ä¾‹å®ç°è§£æé€»è¾‘**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `dataSamples` å­—æ®µï¼‰ï¼š
  - è§£æé€»è¾‘å¿…é¡»èƒ½æ­£ç¡®å¤„ç†æ ·ä¾‹ä¸­çš„æ‰€æœ‰å­—æ®µå’Œç»“æ„
  - å­—æ®µåã€å±‚çº§å…³ç³»ã€æ•°æ®ç±»å‹å¿…é¡»ä¸æ ·ä¾‹ä¸€è‡´
  - å¯¹å¯é€‰å­—æ®µåšç©ºå€¼ä¿æŠ¤
- **ä»£ç è¡Œé•¿åº¦**ï¼šå•è¡Œä¸è¶…è¿‡ 120 å­—ç¬¦ï¼Œè¶…è¿‡æ—¶æ¢è¡Œï¼š
  - åœ¨è¿ç®—ç¬¦ã€é€—å·ã€ç‚¹å·åæ¢è¡Œ
  - ä¸‹ä¸€è¡Œé€‚å½“ç¼©è¿›ï¼ˆ4 ç©ºæ ¼æˆ– 1 tabï¼‰
  - é•¿å­—ç¬¦ä¸²ç”¨ `+` åˆ†è¡Œè¿æ¥
- **ç–‘ä¼¼ç¡®è®¤**ï¼ˆé˜²æ­¢è¯¯æ”¹ï¼‰ï¼š
  - å¦‚æœå‘ç°ç›¸ä¼¼ä½†ä¸ç¡®å®šæ˜¯å¦è¦æ”¹çš„åœ°æ–¹ï¼Œ**åœä¸‹æ¥åˆ—å‡º**
  - æ ¼å¼ï¼š`âš ï¸ ç–‘ä¼¼éœ€è¦ä¿®æ”¹ï¼š[ä½ç½®] - [åŸå› ] - è¯·ç¡®è®¤æ˜¯å¦å¤„ç†`
  - â›” **ç­‰å¾…ç”¨æˆ·ç¡®è®¤** åå†ç»§ç»­

### 5.3: ç”¨æˆ·äº¤äº’æœºåˆ¶æŒ‡å¯¼

**è¯¢é—®æ—¶æœº**ï¼š
- å‘ç°å¤šç§å¯è¡Œçš„å®ç°æ–¹å¼æ—¶
- å¯¹å…³é”®æŠ€æœ¯é€‰æ‹©ï¼ˆå¦‚æ–‡ä»¶å¤„ç†æ–¹å¼ã€æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼‰ä¸ç¡®å®šæ—¶
- å‚è€ƒæ–¹æ³•å­˜åœ¨ä½†é€‚é…æ–¹å¼ä¸æ˜ç¡®æ—¶
- å·¥å…·ç±»ä½¿ç”¨æ–¹æ³•æœ‰æ­§ä¹‰æ—¶
- å‘ç°éœ€è¦ä¿®æ”¹æ ¸å¿ƒé€»è¾‘æˆ–æ¶æ„æ—¶

**è¯¢é—®æ–¹å¼**ï¼š
- æä¾›å…·ä½“çš„å»ºè®®æ–¹æ¡ˆï¼Œä¸æŠ›å‡ºå¼€æ”¾æ€§é—®é¢˜
- è¯´æ˜æ¯ç§æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯
- åŒ…å«å…·ä½“çš„ä»£ç ç¤ºä¾‹æˆ–ä¼ªä»£ç 
- æ˜ç¡®éœ€è¦ç”¨æˆ·å†³ç­–çš„å…·ä½“é—®é¢˜

**è¯¢é—®æ¨¡æ¿**ï¼š
- **æ–¹æ¡ˆé€‰æ‹©å‹**ï¼š"æˆ‘å‘ç°äº†ä»¥ä¸‹å‡ ç§å®ç°æ–¹å¼ï¼Œå»ºè®®ä½¿ç”¨æ–¹æ¡ˆAå› ä¸º[å…·ä½“ç†ç”±]ï¼Œæ‚¨è®¤ä¸ºå¦‚ä½•ï¼Ÿ"
  ```
  æ–¹æ¡ˆAï¼šä½¿ç”¨XxxUtil.method()è°ƒç”¨
  - ä¼˜ç‚¹ï¼šä¸é¡¹ç›®ç°æœ‰æ¨¡å¼ä¸€è‡´ï¼Œç»´æŠ¤ç®€å•
  - ç¼ºç‚¹ï¼šåŠŸèƒ½æœ‰é™ï¼Œå¯èƒ½éœ€è¦é¢å¤–å¤„ç†

  æ–¹æ¡ˆBï¼šæ‰©å±•XxxUtilæ·»åŠ æ–°æ–¹æ³•
  - ä¼˜ç‚¹ï¼šåŠŸèƒ½å®Œæ•´ï¼Œå¯å¤ç”¨æ€§å¥½
  - ç¼ºç‚¹ï¼šå½±å“èŒƒå›´æ›´å¤§ï¼Œéœ€è¦æ›´å¤šæµ‹è¯•

  æˆ‘çš„å»ºè®®ï¼šä¼˜å…ˆé€‰æ‹©æ–¹æ¡ˆAï¼Œç†ç”±æ˜¯[è¯¦ç»†è¯´æ˜]
  ```

- **æŠ€æœ¯ç¡®è®¤å‹**ï¼š"å…³äº[å…·ä½“é—®é¢˜]ï¼Œæˆ‘çš„å»ºè®®æ˜¯[å…·ä½“æ–¹æ¡ˆ]ï¼Œç†ç”±æ˜¯[è¯¦ç»†è¯´æ˜]ï¼Œæ‚¨æ˜¯å¦åŒæ„ï¼Ÿ"

- **æ¶æ„å†³ç­–å‹**ï¼š"æ­¤å®ç°å¯èƒ½å½±å“[å…·ä½“æ¨¡å—]ï¼Œå»ºè®®çš„å¤„ç†æ–¹å¼æ˜¯[æ–¹æ¡ˆ]ï¼Œæ˜¯å¦éœ€è¦è°ƒæ•´ï¼Ÿ"

**å»ºè®®æ–¹æ¡ˆè´¨é‡è¦æ±‚**ï¼š
- å¿…é¡»åŸºäºå¯¹ç°æœ‰ä»£ç çš„æ·±å…¥åˆ†æ
- å¿…é¡»è€ƒè™‘é¡¹ç›®çš„æ•´ä½“æ¶æ„å’Œè§„èŒƒ
- å¿…é¡»åŒ…å«å…·ä½“çš„å®ç°ç»†èŠ‚
- å¿…é¡»è¯´æ˜é€‰æ‹©ç†ç”±å’Œé£é™©è¯„ä¼°

**æ¢è¡Œç¤ºä¾‹**ï¼š
```java
// æ–¹æ³•è°ƒç”¨æ¢è¡Œ
String result = someService.processData(param1, param2,
    param3, param4);

// æ¡ä»¶è¡¨è¾¾å¼æ¢è¡Œ
boolean isValid = StringUtils.isNotEmpty(name) && value > 0
    && status == Status.ACTIVE;

// é•¿å­—ç¬¦ä¸²æ¢è¡Œ
String message = "This is a very long error message that exceeds "
    + "the maximum line length limit";
```

```go
// Go æ–¹æ³•è°ƒç”¨æ¢è¡Œ
result, err := someService.ProcessData(ctx, param1, param2,
    param3, param4)

// Go é•¿å­—ç¬¦ä¸²
message := "This is a very long error message that exceeds " +
    "the maximum line length limit"
```

### 5.4: Service æ–¹æ³•æŠ½å–å†³ç­–æµç¨‹

æ¯å½“å®ç°æ–°æ–¹æ³•æ—¶ï¼ŒæŒ‰ä»¥ä¸‹æµç¨‹è¯„ä¼°ï¼š

```
æ–°å¢æ–¹æ³• â†’ è¯„ä¼°å¤æ‚åº¦ â†’ å†³ç­–æŠ½å–
    â†“
1. æ–¹æ³•åŠŸèƒ½åˆ†æï¼š
   â”œâ”€ çº¯ä¸šåŠ¡é€»è¾‘ï¼Ÿ â†’ è€ƒè™‘æŠ½å–åˆ° BusinessService
   â”œâ”€ æ•°æ®æ“ä½œï¼Ÿ â†’ è€ƒè™‘æŠ½å–åˆ° DataService/Repository
   â”œâ”€ å¤–éƒ¨è°ƒç”¨ï¼Ÿ â†’ è€ƒè™‘æŠ½å–åˆ° IntegrationService
   â”œâ”€ å·¥å…·æ€§è´¨ï¼Ÿ â†’ è€ƒè™‘æŠ½å–åˆ° UtilsService
   â””â”€ ç®€å•è½¬æ¢ï¼Ÿ â†’ ä¿ç•™åœ¨å½“å‰ç±»

2. å¤æ‚åº¦åˆ¤æ–­ï¼š
   â”œâ”€ è¶…è¿‡ 10 è¡Œ â†’ å¼ºçƒˆå»ºè®®æŠ½å–
   â”œâ”€ åŒ…å«åˆ†æ”¯åˆ¤æ–­ â†’ å»ºè®®æŠ½å–
   â”œâ”€ æœ‰é”™è¯¯å¤„ç† â†’ å»ºè®®æŠ½å–
   â””â”€ ç®€å•èµ‹å€¼ â†’ ä¸æŠ½å–

3. å¯å¤ç”¨æ€§ï¼š
   â”œâ”€ å…¶ä»–åœ°æ–¹å¯èƒ½ç”¨åˆ° â†’ å¿…é¡»æŠ½å–
   â”œâ”€ åªæœ‰å½“å‰åœºæ™¯ä½¿ç”¨ â†’ æ ¹æ®å¤æ‚åº¦å†³å®š
   â””â”€ ä¸å½“å‰ç±»å¼ºç»‘å®š â†’ ä¿ç•™

4. å·²æœ‰ Service åŒ¹é…åº¦ï¼š
   â”œâ”€ å®Œå…¨åŒ¹é…å·²æœ‰ service èŒè´£ â†’ æ·»åŠ åˆ°å·²æœ‰ service
   â”œâ”€ éƒ¨åˆ†åŒ¹é… â†’ è¯„ä¼°æ˜¯å¦æ‰©å±•å·²æœ‰ service
   â””â”€ ä¸åŒ¹é… â†’ åˆ›å»ºæ–° serviceï¼ˆéœ€æ…é‡ï¼‰
```

**æŠ½å–ç¤ºä¾‹åœºæ™¯**ï¼š

**âœ… åº”è¯¥æŠ½å–**ï¼š
```java
// å¤æ‚çš„è®¢å•è®¡ç®—é€»è¾‘ â†’ OrderCalculationService
public BigDecimal calculateOrderAmount(Order order) {
    BigDecimal baseAmount = order.getBasePrice();
    if (order.hasDiscount()) {
        baseAmount = applyDiscount(baseAmount, order.getDiscountRate());
    }
    if (order.hasShippingFee()) {
        baseAmount = baseAmount.add(calculateShippingFee(order));
    }
    return applyTax(baseAmount, order.getTaxRate());
}

// æ•°æ®åº“å¤æ‚æŸ¥è¯¢ â†’ UserRepository/UserDataService
public List<User> findActiveUsersWithConditions(UserQuery query) {
    // å¤æ‚çš„ SQL æ„å»ºå’Œæ‰§è¡Œé€»è¾‘
}
```

**âŒ ä¸éœ€è¦æŠ½å–**ï¼š
```java
// ç®€å•å±æ€§è®¾ç½®
public void updateUserLastLogin(User user) {
    user.setLastLoginTime(new Date());
    user.setLoginCount(user.getLoginCount() + 1);
}

// ç®€å•æ ¼å¼è½¬æ¢
public String formatUserDisplayName(User user) {
    return user.getFirstName() + " " + user.getLastName();
}
```

## é˜¶æ®µ 6: GREEN ğŸŸ¢

1. è¿è¡Œæµ‹è¯• â†’ å¿…é¡»å…¨éƒ¨é€šè¿‡
2. æ£€æŸ¥ `acceptance` æ•°ç»„æ¯é¡¹æ˜¯å¦æ»¡è¶³
3. **æ•°æ®æ ·ä¾‹éªŒè¯**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `dataSamples` å­—æ®µï¼‰ï¼š
   - ç”¨æ ·ä¾‹æ•°æ®å®é™…è¿è¡Œæˆ–æ–­è¨€éªŒè¯è§£æ/å¤„ç†ç»“æœ
   - ç¡®è®¤è¾“å‡ºä¸é¢„æœŸä¸€è‡´ï¼ˆå­—æ®µå€¼ã€ç»“æ„ã€æ ¼å¼ï¼‰
   - å¦‚æœæ ·ä¾‹åŒ…å«å¤šç§æƒ…å†µï¼Œé€ä¸€éªŒè¯
4. **å‚è€ƒæ–¹æ³•ä½¿ç”¨éªŒè¯**ï¼ˆå¦‚æœä»»åŠ¡æœ‰ `references` å­—æ®µï¼‰ï¼š
   - ç¡®è®¤å®ç°ä»£ç ä¸­ç¡®å®è°ƒç”¨äº†æŒ‡å®šçš„æ–¹æ³•/å·¥å…·
   - ç¡®è®¤è°ƒç”¨æ–¹å¼ç¬¦åˆå…¶è®¾è®¡è§„èŒƒ
5. **è¾¹ç•ŒéªŒè¯**ï¼š
   - ç¡®è®¤åªä¿®æ”¹äº†åº”è¯¥ä¿®æ”¹çš„å†…å®¹
   - ç¡®è®¤æ²¡æœ‰è¯¯æ”¹ç›¸ä¼¼ä½†ä¸ç›¸å…³çš„ä»£ç 
6. å¿«é€Ÿ self-checkï¼š
   - âœ“ è¾¹ç•Œï¼šAPI å…¼å®¹ï¼Ÿè·¨æ¨¡å—è°ƒç”¨æ­£å¸¸ï¼Ÿ
   - âœ“ å¥å£®ï¼šé”™è¯¯å¤„ç†ï¼Ÿè¾¹ç•Œæƒ…å†µï¼Ÿ
   - âœ“ ç²¾å‡†ï¼šåªæ”¹äº†è¯¥æ”¹çš„ï¼Ÿæ²¡ç¢°ä¸è¯¥ç¢°çš„ï¼Ÿ

**æ—¥å¿—**:
```
[æ—¶é—´æˆ³] [Green] Task N: å®ç°å®Œæˆ
â”œâ”€ çŠ¶æ€: green â†’ committing
â”œâ”€ å†³ç­–: å®ç°è¦ç‚¹/æƒè¡¡å–èˆ
â”œâ”€ æ–‡ä»¶: impl.ts, test.spec.tsï¼ˆå·²å®Œæˆï¼‰
â”œâ”€ Service æŠ½å–: æ–°å¢ XXXService.methodName() | ä¿ç•™åœ¨å½“å‰ç±»ï¼ˆåŸå› ï¼‰
â”œâ”€ é—®é¢˜: é‡åˆ° XXX â†’ é€šè¿‡ YYY è§£å†³ï¼ˆæˆ– noneï¼‰
â””â”€ ä¸‹ä¸€æ­¥: æ ‡è®°ä»»åŠ¡å®Œæˆï¼Œæäº¤
---
```

## é˜¶æ®µ 7: COMMIT

1. è®¾ç½® `passes: true` åœ¨ features.json
2. å†™æœ€ç»ˆæ—¥å¿—

**æ—¥å¿—**:
```
[æ—¶é—´æˆ³] [Done] Task N: âœ… å®Œæˆ
â”œâ”€ çŠ¶æ€: done
â”œâ”€ å†³ç­–: å…³é”®æ¶æ„å†³ç­–æ€»ç»“
â”œâ”€ æ–‡ä»¶: æ‰€æœ‰å˜æ›´æ–‡ä»¶åˆ—è¡¨
â”œâ”€ é—®é¢˜: ä¸»è¦é—®é¢˜åŠè§£å†³æ–¹æ¡ˆæ€»ç»“
â””â”€ ä¸‹ä¸€æ­¥: /plan-next ç»§ç»­ä¸‹ä¸€ä»»åŠ¡
---
```

## æˆåŠŸæ ‡å‡†

ä»»åŠ¡å®Œæˆå‰å¿…é¡»æ»¡è¶³ï¼š
1. âœ… æµ‹è¯•é€šè¿‡ï¼ˆRED â†’ GREENï¼‰
2. âœ… `acceptance` å…¨éƒ¨æ»¡è¶³
3. âœ… `passes: true` å·²è®¾ç½®
4. âœ… `logs/task-{id}.log` åŒ…å« 3-4 æ¡æ—¥å¿—

## æ¢å¤æŒ‡å—

**æ–°ä¼šè¯æ¢å¤æµç¨‹**ï¼š
```
1. è¯» features.json â†’ æ‰¾åˆ°å½“å‰ä»»åŠ¡
2. è¯» logs/task-{id}.log æœ€åä¸€æ¡ â†’ æŸ¥çœ‹"çŠ¶æ€"å’Œ"ä¸‹ä¸€æ­¥"
3. ä»"ä¸‹ä¸€æ­¥"ç»§ç»­æ‰§è¡Œ
```

## çŠ¶æ€å¯¹åº”è¡¨

| çŠ¶æ€ | å«ä¹‰ | ä¸‹ä¸€æ­¥ |
|------|------|--------|
| exploring | æ­£åœ¨åˆ†æ | ç»§ç»­åˆ†ææˆ–è¿›å…¥ planning |
| planning | æ­£åœ¨è§„åˆ’ | å†™æµ‹è¯•ï¼Œè¿›å…¥ red |
| blocked-user-confirm | ç­‰å¾…ç”¨æˆ·ç¡®è®¤æ–¹æ¡ˆ | è·å¾—ç”¨æˆ·ç¡®è®¤åç»§ç»­ planning |
| red | æµ‹è¯•å·²å†™ï¼Œå¾…å®ç° | å†™å®ç°ä»£ç  |
| implementing | æ­£åœ¨å®ç° | ç»§ç»­å®ç°ï¼Œç„¶åæµ‹è¯• |
| blocked-impl-confirm | å®ç°ä¸­éœ€ç”¨æˆ·ç¡®è®¤ | è·å¾—ç”¨æˆ·ç¡®è®¤åç»§ç»­ implementing |
| green | æµ‹è¯•é€šè¿‡ | æ£€æŸ¥ acceptanceï¼Œæäº¤ |
| blocked | å…¶ä»–é˜»å¡æƒ…å†µ | è§£å†³é—®é¢˜åç»§ç»­ |
| done | å®Œæˆ | /plan-next |

## å®Œæˆåè¾“å‡º

```
âœ… ä»»åŠ¡ [ID] å®Œæˆï¼

ğŸ“„ æ—¥å¿—: logs/task-{id}.log
â†’ è¿è¡Œ /plan-next ç»§ç»­ä¸‹ä¸€ä»»åŠ¡
```
